pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
-- deep asleep
-- by sestrenexsis
--  & equalenergy
-- https://github.com/sestrenexsis/ld48_deeper_and_deeper

--[[
 you are a powerful warrior that
 has been put to sleep by a
 wizard. you must wake yourself
 up by defeating the dream boss. 
--]]

--[[
game states
 t: title screen
 a: adventure
 
 t <-> a

adventure states
 o: overworld
 h: house
 c: combat
--]]

_me="sestrenexsis"
_cart="ld48"
--cartdata(_me.."_".._cart.."_1")
--_version=1

--[[
globals
 _x: player's x position
 _y: player's y position
 _f: player's facing direction
--]]

function _init()
	_x=56
	_y=32
	_f="dn"
end

function _update60()
	if btn(⬅️) then
		_x-=1
		_f="lf"
	elseif btn(➡️) then
		_x+=1
		_f="rt"
	end
	if btn(⬆️) then
		_y-=1
		_f="up"
	elseif btn(⬇️) then
		_y+=1
		_f="dn"
	end
end

function _draw()
	cls()
	map(0,0,0,0,16,9)
	local frm=2
	local flp=false
	if _f=="dn" then
		frm=1
	elseif _f=="lf" then
		frm=3
		flp=true
	elseif _f=="rt" then
		frm=3
	end
	spr(frm,_x,_y,1,2,flp)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070009900a0000000000099900a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000009999a009990aa000999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000999a0000999a0000999aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000091d1a000999900009dd1a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000001f100000999a0000ff100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000fff2000099990000fff20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10000000000752800008880000885700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
12000000000618800008282008821600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
41100000000d11800008828008881d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44220000000115800002888008281500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55411000000155000008282008285500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44542200000ddd00000dd820088ddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
54541120000d0d00000d0d80080d0d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
54455411000404000004040000040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51551555000000004444544400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51551555022000004544544400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
111111110dd0d2004545445500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
15555155000000004454445400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1555515502d020225444444400011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111022020d24444554400255200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
555551550099a9004454444401444410000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111099aa9a04454554424545541000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000001099aa9a03bbbbbbb3444444b49444444bbb3bbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000021099aa9a0bbb3bbbbb444994b94449944b3bbbb3300000000000000000000000000000000000000000000000000000000000000000000000000000000
0000011409aa99a0b3bb3bb334944443449444443bb3bbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000
00002245099aa1a0bbbbbb3b3444494344444944bbbb3bb400000000000000000000000000000000000000000000000000000000000000000000000000000000
00011445099aa1a03bb33bbb3444494b44444949bbbbbb4900000000000000000000000000000000000000000000000000000000000000000000000000000000
002255440a9aa9a0b3bb3bbbb949444b494944493bbbb44900000000000000000000000000000000000000000000000000000000000000000000000000000000
011444550a99aaa0bbbbbbbb3949444349494444bbb9444400000000000000000000000000000000000000000000000000000000000000000000000000000000
124455440aaaa9a0bbbb33b33944499b49444994bb44499400000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
3232323232323223323232323232323200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323232323022103232323232323200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323232322021203232323232323200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323332322031203232323232323200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323332323233323232353232323200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323332323233323235343432323200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323434323534343434323232323200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323234343434323232323232323200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323232323232323232323232323200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
3004000e1865118654176540000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
